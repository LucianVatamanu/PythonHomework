Math API – proiect Python

Acest proiect implementeaza un microserviciu in FastAPI care expune o serie de operatii matematice simple si salveaza fiecare cerere in baza de date Oracle.

Functionalitate

Aplicatia ofera trei operatii matematice:
- POST /pow – calculeaza o putere (base ** exponent)
- POST /fibonacci – returneaza al n-lea numar Fibonacci
- POST /factorial – returneaza factorialul unui numar

Toate cererile sunt salvate in tabela api_requests din baza de date Oracle.

Tehnologii si biblioteci folosite

- FastAPI – framework asincron pentru API-uri web
- Pydantic – validare si serializare input/output
- oracledb – conector pentru Oracle Database
- Uvicorn – server ASGI pentru rulare locala
- Flake8 – pentru verificarea respectarii standardului PEP8
- JavaScript + HTML/CSS – interfata web simpla

Structura proiectului

math_api/
├── app/
│   ├── main.py           # aplicatia FastAPI
│   ├── models.py         # modele Pydantic
│   ├── operations.py     # functii matematice + caching
│   ├── database.py       # conectare la Oracle
│   └── storage.py        # salvare in baza de date
├── frontend/
│   ├── index.html        # interfata web cu JavaScript
│   └── style.css         # stilizare minimalista
├── requirements.txt
├── .flake8
└── README.md

Instalare si rulare

1. Instaleaza dependentele:
    pip install -r requirements.txt

2. Configureaza conexiunea la Oracle in app/database.py:
    USERNAME = "..."
    PASSWORD = "..."
    DSN = "localhost/orclpdb1"

3. Creeaza tabela in Oracle daca nu exista:
    CREATE TABLE api_requests (
        id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
        operation VARCHAR2(50),
        input_data VARCHAR2(200),
        result VARCHAR2(200),
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
    );

4. Ruleaza serverul:
    uvicorn app.main:app --reload

5. Acceseaza interfata API:
    http://localhost:8000/docs

Functionalitati suplimentare

- Logging: fiecare cerere este inregistrata cu logger.info(...)
- Caching: implementat in-memory pentru fibonacci si factorial
- Asynchronous endpoints: toate functiile API sunt async def, pregatite pentru executie neblocanta
- Validare Pydantic: fiecare cerere este validata inainte de procesare
- Stilizare HTML: interfata web este simpla si responsiva

Interfata Web

Exista o interfata web locala care poate fi accesata fara server de frontend dedicat.

1. Asigura-te ca serverul FastAPI ruleaza la http://localhost:8000
2. Deschide fisierul frontend/index.html in browser
3. Foloseste sectiunile din pagina pentru a testa cele 3 operatii
4. Rezultatele vor fi afisate in pagina dupa fiecare cerere

Observatii

- Interfata web foloseste fetch si necesita CORS activat in FastAPI
- Datele sunt salvate in Oracle cu fiecare cerere valida
- Proiectul este extensibil si poate fi adaptat usor pentru alti operatori sau interfete

Autor:

Lucian Vatamanu